<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flashlight Words - Glowing</title>
  <style>
    :root{
      --spot-size: 200px;
      --overlay: rgba(0,0,0,0.97);
      --transition-speed: 200ms;
    }

    html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,'Noto Sans CJK SC',Arial;background:#02040a;}
    .stage{
      position:relative;height:100vh;overflow:hidden;
      background:radial-gradient(circle at 50% 50%, #1b2d4a 0%, #0a1322 60%, #040810 100%);
      display:flex;align-items:center;justify-content:center;color:#fff;
    }

    .scene{position:absolute;inset:0;background-image: radial-gradient(circle at 40% 60%, #294674 0%, #09111f 90%);background-size:cover;filter:blur(0.8px) brightness(0.8);}

    @keyframes glow {
      0%,100% { filter: brightness(1) blur(0px); }
      50% { filter: brightness(1.2) blur(1px); }
    }

    .overlay{
      position:absolute;inset:0;pointer-events:none;
      background:radial-gradient(circle at var(--x,50%) var(--y,50%), rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.08) calc(var(--spot-size)/3), transparent calc(var(--spot-size)/2), var(--overlay) calc(var(--spot-size)/2 + 8px));
      transition:background-position var(--transition-speed) linear;
      mix-blend-mode:normal;
      animation: glow 3s ease-in-out infinite;
    }

    .hotspots{position:absolute;inset:0;pointer-events:none}
    .hotspot{position:absolute;transform:translate(-50%,-50%);width:20px;height:20px;border-radius:50%;background:transparent;pointer-events:none;}

    .word{
      position:absolute;transform:translate(-50%,-100%);white-space:nowrap;padding:8px 14px;border-radius:10px;background:rgba(255,255,255,0.97);color:#0b1220;font-weight:700;font-size:22px;opacity:0;transition:opacity 180ms ease, transform 180ms ease;pointer-events:none;box-shadow:0 8px 25px rgba(0,0,0,0.55);max-width:calc(var(--spot-size) - 40px);text-align:center;
    }

    .word.visible{opacity:1;transform:translate(-50%,-130%);}

    .hint{position:absolute;left:14px;bottom:14px;background:rgba(255,255,255,0.06);padding:10px 12px;border-radius:8px;font-size:13px;color:#dfefff}

    @media (max-width:600px){:root{--spot-size:150px} .word{font-size:18px}}
  </style>
</head>
<body>
  <div class="stage" id="stage">
    <div class="scene" aria-hidden="true"></div>
    <div class="hotspots" id="hotspots"></div>
    <div class="overlay" id="overlay"></div>
    <div class="hint">移动鼠标或触摸屏幕来照亮并发现单词 ✨</div>
  </div>

  <script>
    const HOTSPOTS = [
      {x:20,y:35, word:'apple'},
      {x:42,y:22, word:'lamp'},
      {x:68,y:30, word:'dog'},
      {x:75,y:62, word:'book'},
      {x:28,y:68, word:'sun'},
      {x:52,y:52, word:'star'},
      {x:85,y:18, word:'tree'},
      {x:12,y:50, word:'cat'},
      {x:50,y:14, word:'moon'},
      {x:60,y:78, word:'river'}
    ];

    const stage = document.getElementById('stage');
    const hotspotsEl = document.getElementById('hotspots');
    const overlay = document.getElementById('overlay');

    HOTSPOTS.forEach((h,i)=>{
      const el=document.createElement('div');
      el.className='hotspot';
      el.style.left=h.x+'%';el.style.top=h.y+'%';
      el.dataset.index=i;
      const word=document.createElement('div');word.className='word';word.textContent=h.word;el.appendChild(word);
      hotspotsEl.appendChild(el);
      h._el=el;h._wordEl=word;
    });

    function setSpot(xPct,yPct){overlay.style.setProperty('--x',xPct+'%');overlay.style.setProperty('--y',yPct+'%');}

    function checkIlluminated(clientX,clientY){
      const rect=stage.getBoundingClientRect();
      const spotRadius=(parseInt(getComputedStyle(document.documentElement).getPropertyValue('--spot-size'))||200)/2;
      HOTSPOTS.forEach(h=>{
        const hx=rect.left+rect.width*(h.x/100);
        const hy=rect.top+rect.height*(h.y/100);
        const dx=clientX-hx;const dy=clientY-hy;const dist=Math.hypot(dx,dy);
        const threshold=spotRadius*0.9;const locked=h._wordEl.dataset.locked==='1';
        if(dist<=threshold||locked){
          h._wordEl.classList.add('visible');
          h._el.style.background='radial-gradient(circle, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.25) 30%, transparent 55%)';
        } else {
          h._wordEl.classList.remove('visible');
          h._el.style.background='transparent';
        }
      });
    }

    function handlePointer(clientX,clientY){
      const rect=stage.getBoundingClientRect();
      let xPct=((clientX-rect.left)/rect.width)*100;
      let yPct=((clientY-rect.top)/rect.height)*100;
      xPct=Math.max(0,Math.min(100,xPct));
      yPct=Math.max(0,Math.min(100,yPct));
      setSpot(xPct,yPct);checkIlluminated(clientX,clientY);
    }

    window.addEventListener('mousemove',e=>handlePointer(e.clientX,e.clientY),{passive:true});
    window.addEventListener('touchmove',e=>{const t=e.touches[0];if(!t)return;handlePointer(t.clientX,t.clientY);},{passive:true});

    stage.addEventListener('mouseleave',()=>{
      HOTSPOTS.forEach(h=>{if(h._wordEl.dataset.locked!=='1'){h._wordEl.classList.remove('visible');h._el.style.background='transparent';}});
    });

    setSpot(50,50);

    hotspotsEl.addEventListener('click',ev=>{
      const target=ev.target.closest('.hotspot');
      if(!target)return;const idx=target.dataset.index|0;const wordEl=HOTSPOTS[idx]._wordEl;const locked=wordEl.dataset.locked==='1';
      if(locked){wordEl.dataset.locked='0';wordEl.classList.remove('visible');}
      else {wordEl.dataset.locked='1';wordEl.classList.add('visible');}
    });
  </script>
</body>
</html>